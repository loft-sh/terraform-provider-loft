---
page_title: "Loft Provider"
description: |-
  The Loft Provider provides resources to manage your Loft Spaces and Virtual Clusters using Terraform.
---

# Loft Provider

Manage your Loft Spaces and Virtual Clusters using terraform.

## Example Usage

Create a Space using terraform
```terraform
terraform {
  required_providers {
    loft = {
      source = "registry.terraform.io/loft-sh/loft"
    }
  }
}

provider "loft" {}

resource "loft_space" "basic" {
  name    = "basic-space"
  cluster = "loft-cluster"
}
```

Create a Virtual Cluster using terraform
```terraform
terraform {
  required_providers {
    loft = {
      source = "registry.terraform.io/loft-sh/loft"
    }
  }
}

provider "loft" {}

resource "loft_space" "basic" {
  name    = "basic-space"
  cluster = "loft-cluster"
}

resource "loft_virtual_cluster" "basic" {
  name      = "basic-virtual-cluster"
  namespace = resource.loft_space.basic.name
  cluster   = resource.loft_space.basic.cluster
}
```

## Authentication and Configuration
Authentication for the Loft Provider can be provided through a Loft configuration file, or by manually providing the Loft host and access key.

### Loft Configuration File
By default, the provider will authenticate using the currently logged in user:
```terraform
provider "loft" {
  # Uses the default Loft config location ($HOME/.loft/config.json)
}
```

To override the Loft config path location:
```terraform
provider "loft" {
  # If not using the default config location (`$HOME/.loft/config.json) you can change the location's `config_path`
  config_path = "/path/to/loft/config.json"
}
```

### Manual Configuration
The provider authentication can be manually configured using `access_key`, `host`, and `insecure` options. This is useful for when you want to configure authentication in a CI/CD environment and wish to provide credentials using secrets or environment variables.

This is an example using [terraform variables](https://www.terraform.io/language/values/variables) to set the `host`, `access_key`, and `insecure` options:
```terraform
variable "loft_host" {
}

variable "loft_access_key" {
}

variable "loft_insecure" {
}

provider "loft" {
  host       = var.loft_host
  access_key = var.loft_access_key
  insecure   = var.loft_insecure
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `access_key` (String) The Loft user's access key.
- `config_path` (String) The Loft config file path. Defaults to `$HOME/.loft/config.json`.
- `host` (String) The Loft instance host.
- `insecure` (Boolean) Allow login into an insecure Loft instance. Defaults to `false`.