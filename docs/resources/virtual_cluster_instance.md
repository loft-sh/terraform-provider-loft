---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "loft_virtual_cluster_instance Resource - terraform-provider-loft"
subcategory: ""
description: |-
  Provides details for loft_virtual_cluster_instance Resource
---
# loft_virtual_cluster_instance (Resource)
VirtualClusterInstance holds the VirtualClusterInstance information

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `metadata` (Block List, Min: 1, Max: 1) Standard VirtualClusterInstance's metadata. More info: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#metadata (see [below for nested schema](#nestedblock--metadata))
- `spec` (Block List, Min: 1) (see [below for nested schema](#nestedblock--spec))

### Read-Only

- `id` (String) Unique identifier for this resource. The format is `<namespace>/<name>`.

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Required:

- `namespace` (String) Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the "default" namespace, but "default" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.

Must be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces

Optional:

- `annotations` (Map of String) An unstructured key value map stored with the VirtualClusterInstance that may be used to store arbitrary metadata. More info: http://kubernetes.io/docs/user-guide/annotations
- `generate_name` (String) Prefix, used by the server, to generate a unique name ONLY IF the `name` field has not been provided. This value will also be combined with a unique suffix. Read more: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#idempotency
- `labels` (Map of String) Map of string keys and values that can be used to organize and categorize (scope and select) the VirtualClusterInstance. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels
- `name` (String) Name of the VirtualClusterInstance, must be unique. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names

Read-Only:

- `generation` (Number) A sequence number representing a specific generation of the desired state.
- `resource_version` (String) An opaque value that represents the internal version of this VirtualClusterInstance that can be used by clients to determine when VirtualClusterInstance has changed. Read more: https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
- `uid` (String) The unique in time and space value for this VirtualClusterInstance. More info: http://kubernetes.io/docs/user-guide/identifiers#uids


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Optional:

- `access` (Block List) Access to the virtual cluster object itself (see [below for nested schema](#nestedblock--spec--access))
- `cluster_ref` (Block List, Max: 1) ClusterRef is the reference to the connected cluster holding this virtual cluster (see [below for nested schema](#nestedblock--spec--cluster_ref))
- `description` (String) Description describes a virtual cluster instance
- `display_name` (String) DisplayName is the name that should be displayed in the UI
- `extra_access_rules` (Block List) ExtraAccessRules defines extra rules which users and teams should have which access to the virtual cluster. (see [below for nested schema](#nestedblock--spec--extra_access_rules))
- `owner` (Block List, Max: 1) Owner holds the owner of this object (see [below for nested schema](#nestedblock--spec--owner))
- `parameters` (String) Parameters are values to pass to the template
- `template` (Block List, Max: 1) Template is the inline template to use for virtual cluster creation. This is mutually exclusive with templateRef. (see [below for nested schema](#nestedblock--spec--template))
- `template_ref` (Block List, Max: 1) TemplateRef holds the virtual cluster template reference (see [below for nested schema](#nestedblock--spec--template_ref))

<a id="nestedblock--spec--access"></a>
### Nested Schema for `spec.access`

Required:

- `verbs` (List of String) Verbs is a list of Verbs that apply to ALL the ResourceKinds and AttributeRestrictions contained in this rule. VerbAll represents all kinds.

Optional:

- `name` (String) Name is an optional name that is used for this access rule
- `subresources` (List of String) Subresources defines the sub resources that are allowed by this access rule
- `teams` (List of String) Teams specifies which teams should be able to access this secret with the aforementioned verbs
- `users` (List of String) Users specifies which users should be able to access this secret with the aforementioned verbs


<a id="nestedblock--spec--cluster_ref"></a>
### Nested Schema for `spec.cluster_ref`

Optional:

- `cluster` (String) Cluster is the connected cluster the space will be created in
- `namespace` (String) Namespace is the namespace inside the connected cluster holding the space
- `virtual_cluster` (String) VirtualCluster is the name of the virtual cluster inside the namespace


<a id="nestedblock--spec--extra_access_rules"></a>
### Nested Schema for `spec.extra_access_rules`

Optional:

- `cluster_role` (String) ClusterRole is the cluster role that should be assigned to the
- `teams` (List of String) Teams that this rule matches.
- `users` (List of String) Users this rule matches. * means all users.


<a id="nestedblock--spec--owner"></a>
### Nested Schema for `spec.owner`

Optional:

- `team` (String) Team specifies a Loft team.
- `user` (String) User specifies a Loft user.


<a id="nestedblock--spec--template"></a>
### Nested Schema for `spec.template`

Optional:

- `access` (Block List, Max: 1) Access defines the access of users and teams to the virtual cluster. (see [below for nested schema](#nestedblock--spec--template--access))
- `access_point` (Block List, Max: 1) AccessPoint defines settings to expose the virtual cluster directly via an ingress rather than through the (default) Loft proxy (see [below for nested schema](#nestedblock--spec--template--access_point))
- `apps` (Block List) Apps specifies the apps that should get deployed by this template (see [below for nested schema](#nestedblock--spec--template--apps))
- `charts` (Block List) Charts are helm charts that should get deployed (see [below for nested schema](#nestedblock--spec--template--charts))
- `helm_release` (Block List, Max: 1) HelmRelease is the helm release configuration for the virtual cluster. (see [below for nested schema](#nestedblock--spec--template--helm_release))
- `metadata` (Block List, Max: 1) The virtual cluster metadata (see [below for nested schema](#nestedblock--spec--template--metadata))
- `objects` (String) Objects are Kubernetes style yamls that should get deployed into the virtual cluster
- `space_template` (Block List, Max: 1) SpaceTemplate holds the space template (see [below for nested schema](#nestedblock--spec--template--space_template))

<a id="nestedblock--spec--template--access"></a>
### Nested Schema for `spec.template.access`

Optional:

- `default_cluster_role` (String) Specifies which cluster role should get applied to users or teams that do not match a rule below.
- `rules` (Block List) Rules defines which users and teams should have which access to the virtual cluster. If no rule matches an authenticated incoming user, the user will get cluster admin access. (see [below for nested schema](#nestedblock--spec--template--access--rules))

<a id="nestedblock--spec--template--access--rules"></a>
### Nested Schema for `spec.template.access.rules`

Optional:

- `cluster_role` (String) ClusterRole is the cluster role that should be assigned to the
- `teams` (List of String) Teams that this rule matches.
- `users` (List of String) Users this rule matches. * means all users.



<a id="nestedblock--spec--template--access_point"></a>
### Nested Schema for `spec.template.access_point`

Optional:

- `ingress` (Block List, Max: 1) Ingress defines virtual cluster access via ingress (see [below for nested schema](#nestedblock--spec--template--access_point--ingress))

<a id="nestedblock--spec--template--access_point--ingress"></a>
### Nested Schema for `spec.template.access_point.ingress`

Optional:

- `enabled` (Boolean) Enabled defines if the virtual cluster access point (via ingress) is enabled or not; requires the connected cluster to have the `loft.sh/ingress-suffix` annotation set to define the domain name suffix used for the ingress.



<a id="nestedblock--spec--template--apps"></a>
### Nested Schema for `spec.template.apps`

Optional:

- `name` (String) Name of the target app
- `namespace` (String) Namespace specifies in which target namespace the app should get deployed in
- `parameters` (String) Parameters to use for the app
- `release_name` (String) ReleaseName is the name of the app release
- `version` (String) Version of the app


<a id="nestedblock--spec--template--charts"></a>
### Nested Schema for `spec.template.charts`

Optional:

- `insecure_skip_tls_verify` (Boolean) If tls certificate checks for the chart download should be skipped
- `name` (String) Name is the chart name in the repository
- `password` (String) The password that is required for this repository
- `release_name` (String) ReleaseName is the preferred release name of the app
- `release_namespace` (String) ReleaseNamespace is the preferred release namespace of the app
- `repo_url` (String) RepoURL is the repo url where the chart can be found
- `timeout` (String) Timeout is the time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
- `username` (String) The username that is required for this repository
- `values` (String) Values are the values that should get passed to the chart
- `version` (String) Version is the chart version in the repository
- `wait` (Boolean) Wait determines if Loft should wait during deploy for the app to become ready


<a id="nestedblock--spec--template--helm_release"></a>
### Nested Schema for `spec.template.helm_release`

Optional:

- `chart` (Block List, Max: 1) infos about what chart to deploy (see [below for nested schema](#nestedblock--spec--template--helm_release--chart))
- `values` (String) the values for the given chart

<a id="nestedblock--spec--template--helm_release--chart"></a>
### Nested Schema for `spec.template.helm_release.chart`

Optional:

- `name` (String) the name of the helm chart
- `repo` (String) the repo of the helm chart
- `version` (String) the version of the helm chart to use



<a id="nestedblock--spec--template--metadata"></a>
### Nested Schema for `spec.template.metadata`

Optional:

- `annotations` (Map of String) Annotations are annotations on the object
- `labels` (Map of String) Labels are labels on the object


<a id="nestedblock--spec--template--space_template"></a>
### Nested Schema for `spec.template.space_template`

Optional:

- `apps` (Block List) Apps specifies the apps that should get deployed by this template (see [below for nested schema](#nestedblock--spec--template--space_template--apps))
- `charts` (Block List) Charts are helm charts that should get deployed (see [below for nested schema](#nestedblock--spec--template--space_template--charts))
- `metadata` (Block List, Max: 1) The space metadata (see [below for nested schema](#nestedblock--spec--template--space_template--metadata))
- `objects` (String) Objects are Kubernetes style yamls that should get deployed into the virtual cluster namespace

<a id="nestedblock--spec--template--space_template--apps"></a>
### Nested Schema for `spec.template.space_template.apps`

Optional:

- `name` (String) Name of the target app
- `namespace` (String) Namespace specifies in which target namespace the app should get deployed in
- `parameters` (String) Parameters to use for the app
- `release_name` (String) ReleaseName is the name of the app release
- `version` (String) Version of the app


<a id="nestedblock--spec--template--space_template--charts"></a>
### Nested Schema for `spec.template.space_template.charts`

Optional:

- `insecure_skip_tls_verify` (Boolean) If tls certificate checks for the chart download should be skipped
- `name` (String) Name is the chart name in the repository
- `password` (String) The password that is required for this repository
- `release_name` (String) ReleaseName is the preferred release name of the app
- `release_namespace` (String) ReleaseNamespace is the preferred release namespace of the app
- `repo_url` (String) RepoURL is the repo url where the chart can be found
- `timeout` (String) Timeout is the time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
- `username` (String) The username that is required for this repository
- `values` (String) Values are the values that should get passed to the chart
- `version` (String) Version is the chart version in the repository
- `wait` (Boolean) Wait determines if Loft should wait during deploy for the app to become ready


<a id="nestedblock--spec--template--space_template--metadata"></a>
### Nested Schema for `spec.template.space_template.metadata`

Optional:

- `annotations` (Map of String) Annotations are annotations on the object
- `labels` (Map of String) Labels are labels on the object




<a id="nestedblock--spec--template_ref"></a>
### Nested Schema for `spec.template_ref`

Optional:

- `name` (String) Name holds the name of the template to reference.
- `sync_once` (Boolean) SyncOnce tells the controller to sync the instance once with the template. This is useful if you want to sync an instance after a template was changed. To automatically sync an instance with a template, use 'x.x.x' as version instead.
- `version` (String) Version holds the template version to use. Version is expected to be in semantic versioning format. Alternatively, you can also exchange major, minor or patch with an 'x' to tell Loft to automatically select the latest major, minor or patch version.

