---
page_title: "loft_virtual_cluster Resource - terraform-provider-loft"
subcategory: ""
description: |-
Provides details for loft_virtual_cluster Resource
---
# loft_virtual_cluster (Resource)
The `loft_virtual_cluster` resource is used to manage a Loft virtual cluster.

## Example Usage
```terraform
terraform {
  required_providers {
    loft = {
      source = "registry.terraform.io/loft-sh/loft"
    }
  }
}

provider "loft" {}

resource "loft_space" "basic" {
  name    = "basic-space"
  cluster = "loft-cluster"
}

resource "loft_virtual_cluster" "basic" {
  name      = "basic-virtual-cluster"
  namespace = resource.loft_space.basic.name
  cluster   = resource.loft_space.basic.cluster
}
```

## Example Sleep Mode Usage 
In order to use sleep mode features with virtual clusters, you can configure a space to sleep and use it as the namespace for your virtual cluster.
```terraform
terraform {
  required_providers {
    loft = {
      source = "registry.terraform.io/loft-sh/loft"
    }
  }
}

provider "loft" {}

resource "loft_space" "sleep_after" {
  name        = "sleep-mode-space"
  cluster     = "loft-cluster"
  sleep_after = 3600 # Sleep after 1 hour of inactivity
}

resource "loft_virtual_cluster" "vcluster_with_sleep_mode" {
  name      = "basic-vcluster"
  cluster   = resource.loft_space.sleep_after.cluster
  namespace = resource.loft_space.sleep_after.name
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster` (String) The cluster where the virtual cluster is located.
- `namespace` (String) The namespace where the virtual cluster is deployed.

### Optional

- `annotations` (Map of String) The annotations to configure on this virtual cluster.
- `chart_name` (String) The helm chart name used to configure the virtual cluster.
- `chart_version` (String) The helm chart version used to configure the virtual cluster.
- `generate_name` (String) Prefix, used by the server, to generate a unique name ONLY IF the `name` field has not been provided. This value will also be combined with a unique suffix. Read more about [kubernetes API conventions for idempotency here](https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md#idempotency).
- `labels` (Map of String) The labels to configure on this virtual cluster.
- `name` (String) The name of the virtual cluster.
- `objects` (String) Objects are Kubernetes style yamls that should get deployed into the virtual cluster.
- `values` (String) The helm chart values to configure the virtual cluster.

### Read-Only

- `id` (String) Unique identifier for this virtual cluster. The format is `<cluster>/<namespace>/<name>`.

## Import
Import is supported using the following syntax:
```shell
# import the `basic-virtual-cluster`, located in `basic-space` on the `loft-cluster` cluster into the `loft_virtual_cluster.basic` resource
terraform import loft_virtual_cluster.basic loft-cluster/basic-space/basic-virtual-cluster
```
